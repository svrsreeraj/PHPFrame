{assign var="actionReturn" value=$obj->actionReturn}
{literal}
<script type="text/javascript">
function getStates(cid,selId,changeId)
{
	$("#"+changeId).html("Loading...");
	$.ajax({
		   type	: "GET",
		   url	: "customerReport.php",
		   data	: "actionvar=Getstatecombo&cid="+cid+"&sid="+selId,
		  dataType: "html",
		   success: function(msg){
		   			
			   $("#"+changeId).html(msg);
			}
		 });
}
$(document).ready(function() {
$("#customer").tooltip();
$("#txt_order_from").datepicker();
$("#txt_order_from").datepicker('option',
{
	showAnim:'show',
	changeMonth: true,
	changeYear: true,
	//minDate: -20, 
	//maxDate: '+1M +10D',
	showOtherMonths: true, 
	selectOtherMonths: true,
	//yearRange:'c-50:c+10',
	autoSize:false
});

$("#txt_order_to").datepicker();
$("#txt_order_to").datepicker('option',
{
	showAnim:'show',
	changeMonth: true,
	changeYear: true,
	//minDate: -20, 
	//maxDate: '+1M +10D',
	showOtherMonths: true, 
	selectOtherMonths: true,
	//yearRange:'c-50:c+10',
	autoSize:false
});

});
</script>

<link type="text/css" href="js/ui/themes/base/jquery.ui.all.css" rel="stylesheet" />
<script type="text/javascript" src="js/ui/ui/jquery.ui.core.js"></script>
<script type="text/javascript" src="js/ui/ui/jquery.ui.widget.js"></script>
<script type="text/javascript" src="js/ui/ui/jquery.ui.datepicker.js"></script>

{/literal}

<form action="" name="fromName" method="POST" enctype="multipart/form-data">
<table width="100%" border="0" cellpadding="0" cellspacing="0" class="table_style">

{if $obj->getPageError()}
<tr>
	<td class="errorMessage">{$obj->popPageError()}</td>
</tr>
{/if}
<tr>
	<td>
		<table cellpadding="0" cellspacing="0" border="0" width="100%">
			<tr>
				<td align="left"  class="pageHead"><span id="customer"><strong>Customer Report </strong></span></td>
				<td align="right" class="pageHead" style="text-align:right">
					
					{if $obj->currentAction	==	"Transcomplete"}
					{else}
					<strong> {$actionReturn.spage->startingRow} - {$actionReturn.spage->endingRow}  </strong> of <strong>{$actionReturn.spage->totcnt} </strong>
					{/if}
				</td>
			</tr>
		</table>
	</td>
</tr>
		
	{if $obj->currentAction	==	"Transcomplete"}
	{include file='customerReport.tpl'}
<tr>{if $actionReturn.data}
	<td>
		<table  width="100%"  cellpadding="0" cellspacing="0" border="0">
		
								<tbody>
									<tr>
									&nbsp;
										<td width="50%" height="100"valign="top">
											<div class="boxList"  >
												<div>
													<table width="600" border="0" align="center" cellpadding="0" cellspacing="0" class="listTablePopUp">		
														<th colspan="4" >Consolodated List</th>
														<tr>
															<td>Total customers :</td><td><b>{$actionReturn.data.totalcustomers}</b></td><td>Active customers :</td><td><b>{$actionReturn.data.active}</b></td>
															
														</tr>
														<tr>
															<td>Sms Active customers :</td><td><b>{$actionReturn.data.smsactive}</b></td><td> From Facebook customers :</td><td><b>{$actionReturn.data.fromfacebook}</b></td>
															
														</tr>
														<tr>
															<td>Email active:</td><td><b>{$actionReturn.data.emailactive}</b></td><td>Mobile Active</td><td> <b>{$actionReturn.data.moblieactive}</b></td>
															
														</tr>
														<tr>
															<td colspan="3"></td>
															<td><a class="view-more" title="Click here to view yearly report" target="_blank" href="customerReport.php?actionvar=Yearly">
															view more
                            								</a>
															</td>
														
														</tr>
													</table>
										
												</div>
											</div>
										
									  </td>
										
									</tr>
								</tbody>
						</table>
					{/if}	
	</td>
</tr>
	{/if}
{if $obj->currentAction	==	"Daily"}
	{include file='customerReport.tpl'}
<tr>
	<td>
		<table cellpadding="0" cellspacing="0" border="0" width="100%">
			
			{if $actionReturn.data}
			<tr>
				<td align="center" valign="middle">
					<table width="100%" border="0" cellpadding="0" cellspacing="0" class="listTable">
						<tr align="center" valign="middle">							
								<th><a href="{$obj->getLink('Transdailysearch','','false')}&sortField=year&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Date
							{$obj->getSortImage('year',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)}
							</a></th>
							<th><a href="{$obj->getLink('Transdailysearch','','false')}&sortField=totalcustomers&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Total 
							{$obj->getSortImage('totalcustomers',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)}
							</a></th>
                            
 							<th><a href="{$obj->getLink('Transdailysearch','','false')}&sortField=activecustomers&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Active 
							{$obj->getSortImage('activecustomers',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)}
							</a></th>
							
							<th><a href="{$obj->getLink('Transdailysearch','','false')}&sortField=emailactive&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Email Active 
							{$obj->getSortImage('emailactive',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)} 
							 </a></th>	
							 						
							<th><a href="{$obj->getLink('Transdailysearch','','false')}&sortField=smsactive&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Sms Active 
							{$obj->getSortImage('smsactive',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)} 
							 </a></th>	
							 						
							<th><a href="{$obj->getLink('Transdailysearch','','false')}&sortField=facebook&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Facebook active 
							{$obj->getSortImage('facebook',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)} 
							 </a></th>		
							 					
							<th><a href="{$obj->getLink('Transdailysearch','','false')}&sortField=mobileactive&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Mobile active
							{$obj->getSortImage('mobileactive',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)} 
							 </a></th>
							 	<th>Action </th>
						</tr>
						
					{foreach from=$actionReturn.data item=data name=i}
						<tr>
							<td>{$data.year}</td>
							<td>{$data.totalcustomers}</td>
							<td>{$data.activecustomers}</td>
							<td>{$data.emailactive}</td>
							<td>{$data.smsactive}</td>
							<td>{$data.facebook}</td>
							<td>{$data.mobileactive}</td>
						
							<td>
							{if $obj->permissionCheck("View")}
							
							<a href="{$obj->getLink('goToCustomerPage','',true)}&datesearch={$data.searchyear}" class="Second_link" title="Click here to view all details">
							<img height="20" width="20" border="0" src="images/inner_details.png"> 
							</a>
							{/if}
							</td>
						</tr>
					{/foreach}
					<tr>
						<td colspan="10">{$actionReturn.spage->s_get_links()}</td>
					</tr>
				</table>
				</td>
			</tr>
		{/if}
		
		</table>
	</td>
</tr>
	{/if}
	{if $obj->currentAction	==	"Monthly"}
	{include file='customerReport.tpl'}
	<tr>
	<td>
		<table cellpadding="0" cellspacing="0" border="0" width="100%">
			
			{if $actionReturn.data}
			<tr>
				<td align="center" valign="middle">
					<table width="100%" border="0" cellpadding="0" cellspacing="0" class="listTable">
						<tr align="center" valign="middle">	
											
							<th><a href="{$obj->getLink('Transmonthlysearch','','false')}&sortField=year&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Date
							{$obj->getSortImage('year',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)}
							</a></th>
							<th><a href="{$obj->getLink('Transmonthlysearch','','false')}&sortField=totalcustomers&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Total 
							{$obj->getSortImage('totalcustomers',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)}
							</a></th>
                            
 							<th><a href="{$obj->getLink('Transmonthlysearch','','false')}&sortField=activecustomers&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Active 
							{$obj->getSortImage('activecustomers',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)}
							</a></th>
							
							<th><a href="{$obj->getLink('Transmonthlysearch','','false')}&sortField=emailactive&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Email Active 
							{$obj->getSortImage('emailactive',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)} 
							 </a></th>	
							 						
							<th><a href="{$obj->getLink('Transmonthlysearch','','false')}&sortField=smsactive&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Sms Active 
							{$obj->getSortImage('smsactive',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)} 
							 </a></th>	
							 						
							<th><a href="{$obj->getLink('Transmonthlysearch','','false')}&sortField=facebook&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Facebook active 
							{$obj->getSortImage('facebook',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)} 
							 </a></th>		
							 					
							<th><a href="{$obj->getLink('Transmonthlysearch','','false')}&sortField=mobileactive&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Mobile active
							{$obj->getSortImage('mobileactive',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)} 
							 </a></th>
							 	<th>Action </th>
						</tr>
						
					{foreach from=$actionReturn.data item=data name=i}
						<tr>
							<td>{$data.year}</td>
							<td>{$data.totalcustomers}</td>
							<td>{$data.activecustomers}</td>
							<td>{$data.emailactive}</td>
							<td>{$data.smsactive}</td>
							<td>{$data.facebook}</td>
							<td>{$data.mobileactive}</td>
							<td>
							{if $obj->permissionCheck("View")}
							<a href="{$obj->getLink('Gotransdaily','',true)}&datesearch={$data.searchyear}" class="Second_link" title="Click here to view daily wise details">
							<img height="20" width="20" border="0" src="images/inner_details.png"> 
							</a>
							{/if}
							</td>
						</tr>
					{/foreach}
					<tr>
						
						<td colspan="10">{$actionReturn.spage->s_get_links()}</td>
					</tr>
				</table>
				</td>
			</tr>
		{/if}
		
		</table>
	</td>
	
	
	
</tr>
	{/if}
	{if $obj->currentAction	==	"Yearly"}
	{include file='customerReport.tpl'}
	<tr>
	<td>
		<table cellpadding="0" cellspacing="0" border="0" width="100%">
			
			{if $actionReturn.data}
			<tr>
				<td align="center" valign="middle">
					<table width="100%" border="0" cellpadding="0" cellspacing="0" class="listTable">
						<tr align="center" valign="middle">							
							
							<th><a href="{$obj->getLink('Transyearlysearch','','false')}&sortField=year&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Date
							{$obj->getSortImage('year',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)}
							</a></th>
							<th><a href="{$obj->getLink('Transyearlysearch','','false')}&sortField=totalcustomers&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Total 
							{$obj->getSortImage('totalcustomers',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)}
							</a></th>
                            
 							<th><a href="{$obj->getLink('Transyearlysearch','','false')}&sortField=activecustomers&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Active 
							{$obj->getSortImage('activecustomers',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)}
							</a></th>
							
							<th><a href="{$obj->getLink('Transyearlysearch','','false')}&sortField=emailactive&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Email Active 
							{$obj->getSortImage('emailactive',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)} 
							 </a></th>	
							 						
							<th><a href="{$obj->getLink('Transyearlysearch','','false')}&sortField=smsactive&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Sms Active 
							{$obj->getSortImage('smsactive',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)} 
							 </a></th>	
							 						
							<th><a href="{$obj->getLink('Transyearlysearch','','false')}&sortField=facebook&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Facebook active 
							{$obj->getSortImage('facebook',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)} 
							 </a></th>		
							 					
							<th><a href="{$obj->getLink('Transyearlysearch','','false')}&sortField=mobileactive&sortMethod={$obj->getNegativeSort($actionReturn.searchdata.sortData.sortMethod)}">
							Mobile active
							{$obj->getSortImage('mobileactive',$actionReturn.searchdata.sortData.sortField,$actionReturn.searchdata.sortData.sortMethod)} 
							 </a></th>
							 					
							<th>Action </th>
						</tr>
						
					{foreach from=$actionReturn.data item=data name=i}
						<tr>
							<td>{$data.year}</td>
							<td>{$data.totalcustomers}</td>
							<td>{$data.activecustomers}</td>
							<td>{$data.emailactive}</td>
							<td>{$data.smsactive}</td>
							<td>{$data.facebook}</td>
							<td>{$data.mobileactive}</td>
							<td>
							{if $obj->permissionCheck("View")}
							<a href="{$obj->getLink('Gotransmonthly','',true)}&datesearch={$data.searchyear}" class="Second_link" title="Click here to view monthly wise details">

							<img height="20" width="20" border="0" src="images/inner_details.png"> 
							</a>
							{/if}
							</td>
						</tr>
					{/foreach}
					<tr>
						<td colspan="10">{$actionReturn.spage->s_get_links()}</td>
					</tr>
				</table>
				</td>
			</tr>
		{/if}
		
		</table>
	</td>
</tr>
	{/if}
	
	


</table>
{literal}
<script type="text/javascript" src="js/tooltip.js"></script>		
{/literal}
{include_php file="footer.php"}
